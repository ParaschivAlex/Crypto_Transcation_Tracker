{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/configfirebase.tsx","context/AuthContext.tsx","hooks/useAuthContext.tsx","hooks/useFirestore.tsx","pages/home/TransactionForm.tsx","pages/home/TransactionList.tsx","pages/home/Home.tsx","hooks/useCollection.tsx","pages/login/Login.tsx","hooks/useLogin.tsx","pages/signup/Signup.tsx","hooks/useSignup.tsx","hooks/useLogout.tsx","components/Navbar.tsx","App.tsx","index.tsx"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","prjFirestore","firestore","prjAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","alreadyLogged","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","doc","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","TransactionForm","uid","cryptocurrency","setCryptocurrency","buysell","setBuysell","amount","setAmount","data","setData","onSubmit","e","preventDefault","required","onChange","target","name","htmlFor","className","TransactionList","transactions","styles","map","transaction","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","unsubscribe","where","onSnapshot","snapshot","results","docs","forEach","push","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","displayName","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","logout","signOut","useLogout","navbar","list","title","to","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e66e5f1b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3vnMv\",\"content\":\"Home_content__2drHi\",\"sidebar\":\"Home_sidebar__3zCYq\",\"transactions\":\"Home_transactions__3FrF6\",\"name\":\"Home_name__-bARR\",\"amount\":\"Home_amount__3pa_V\",\"autocomplete\":\"Home_autocomplete__bXYNH\",\"autocomplete-items\":\"Home_autocomplete-items__2f0JW\",\"autocomplete-active\":\"Home_autocomplete-active__3f7K5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3nN0Q\",\"title\":\"Navbar_title__2LNcX\",\"divider\":\"Navbar_divider__-kCPZ\",\"list\":\"Navbar_list__33SY_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__3EYnL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__2WSEy\"};","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDmTay-4vGLb5ensCXtlD5arQZsCcSlao4\",\r\n    authDomain: \"crypto-transactions-db.firebaseapp.com\",\r\n    projectId: \"crypto-transactions-db\",\r\n    storageBucket: \"crypto-transactions-db.appspot.com\",\r\n    messagingSenderId: \"772238036146\",\r\n    appId: \"1:772238036146:web:ee0438ad4283ae7c6e8dab\"\r\n  };\r\n\r\n  firebase.initializeApp(firebaseConfig)\r\n\r\n  const prjFirestore = firebase.firestore()\r\n  const prjAuth = firebase.auth()\r\n\r\n  const timestamp = firebase.firestore.Timestamp\r\n\r\n  export { prjFirestore, prjAuth, timestamp}","//https://kentcdodds.com/blog/how-to-use-react-context-effectively\r\nimport { createContext, useReducer, useEffect } from 'react'\r\n//import * as React from 'react'\r\nimport { prjAuth } from '../firebase/configfirebase'\r\nexport const AuthContext = createContext('')\r\n//export const AuthContext = React.createContext()\r\n\r\nexport const authReducer = (state: any, action: any) => {\r\n  switch (action.type) {\r\n        case 'LOGIN':\r\n            return { ...state, user: action.payload }\r\n        case 'LOGOUT':\r\n            return { ...state, user: null }\r\n        case 'ALREADY_LOGGED':\r\n            return { ...state, user: action.payload, alreadyLogged: true }\r\n        default:\r\n            return state\r\n  }\r\n}\r\n\r\nexport const AuthContextProvider = ({ children }: any) => {\r\n  const [state, dispatch] = useReducer(authReducer, { \r\n    user: null,\r\n    alreadyLogged: false\r\n  })\r\n  \r\n  useEffect(() => {\r\n    const unsub = prjAuth.onAuthStateChanged(user => {\r\n      dispatch({ type: 'ALREADY_LOGGED', payload: user })\r\n      unsub()\r\n    })\r\n  }, [])\r\n\r\n  console.log('AuthContext state:', state)\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ ...state, dispatch }}>\r\n      { children }\r\n    </AuthContext.Provider>\r\n  )\r\n\r\n}","import { AuthContext } from \"../context/AuthContext\"\r\nimport { useContext } from \"react\"\r\n\r\nexport const useAuthContext = () => {\r\n  const context = useContext(AuthContext)\r\n\r\n  if(!context) {\r\n    throw Error('Eroare')\r\n  }\r\n\r\n  return context\r\n}","import { useReducer, useEffect, useState } from \"react\"\r\nimport { prjFirestore, timestamp } from '../firebase/configfirebase' \r\n\r\nlet initialState = {\r\n  document: null as null,\r\n  isPending: false,\r\n  error: null as null,\r\n  success: null as null,\r\n}\r\n\r\nconst firestoreReducer = (state: any, action: any) => {\r\n  switch (action.type) {\r\n    case \"IS_PENDING\":\r\n      return {success: false, isPending: true, error: null, document: null}\r\n    case \"ADDED_DOCUMENT\":\r\n      return {success: true, isPending: false, error: null, document: action.payload}\r\n    case 'DELETED_DOCUMENT':\r\n      return { isPending: false, document: null, success: true, error: null }\r\n    case 'ERROR':\r\n      return { isPending: false, document: null, success: false, error: action.payload }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const useFirestore = (collection: any) => {\r\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\r\n  const [isCancelled, setIsCancelled] = useState(false)\r\n\r\n  // collection ref\r\n  const ref = prjFirestore.collection(collection)\r\n  \r\n  const dispatchIfNotCancelled = (action: any) => {\r\n    if (!isCancelled) {\r\n      dispatch(action)\r\n    }\r\n  }\r\n\r\n  // add a document\r\n  const addDocument = async (doc: any) => {\r\n    dispatch({ type: \"IS_PENDING\" })\r\n\r\n    try {\r\n      const createdAt = timestamp.fromDate(new Date())\r\n      const addedDocument = await ref.add({...doc, createdAt})\r\n      dispatchIfNotCancelled({ type: \"ADDED_DOCUMENT\", payload: addedDocument })\r\n    }\r\n    catch (err) {\r\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message })\r\n    }\r\n\r\n  }\r\n\r\n  // delete a document\r\n  const deleteDocument = async (id: any) => {\r\n    dispatch({ type: 'IS_PENDING' })\r\n\r\n    try {\r\n      await ref.doc(id).delete()\r\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\r\n    }\r\n    catch (err) {\r\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => setIsCancelled(true)\r\n  }, [])\r\n\r\n  return { addDocument, deleteDocument, response }\r\n\r\n}","import { useState, useEffect } from 'react'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nexport default function TransactionForm( { uid }: any) {\r\n  const [cryptocurrency, setCryptocurrency] = useState('')\r\n  const [buysell, setBuysell] = useState('')\r\n  const [amount, setAmount] = useState('')\r\n  const [data, setData] = useState('')\r\n  const { addDocument, response } = useFirestore('transactions')\r\n\r\n  const handleSubmit = (e : any) => {\r\n    e.preventDefault()\r\n    addDocument({\r\n        uid,\r\n        cryptocurrency,\r\n        buysell,\r\n        amount,\r\n        data,\r\n    })\r\n  }\r\n\r\n  // reset the form fields\r\n  useEffect(() => {\r\n    if (response.success) {\r\n      setCryptocurrency('')\r\n      setBuysell('')\r\n      setAmount('')\r\n      setData('')\r\n    }\r\n  }, [response.success])\r\n\r\n  return (\r\n    <>\r\n      <h3>Add a Transaction</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Cryptocurrency name:</span>\r\n          <input \r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setCryptocurrency(e.target.value)} \r\n            value={cryptocurrency} \r\n          />\r\n        </label>\r\n\r\n        <form>\r\n          <input type=\"radio\" id=\"buy\" name=\"buy/sell\" onChange={(e) => setBuysell(e.target.value)} value={\"Buy\"} />\r\n          <label htmlFor=\"buy\">Buy</label><br/>\r\n          <input type=\"radio\" id=\"sell\" name=\"buy/sell\" onChange={(e) => setBuysell(e.target.value)} value={\"Sell\"} />\r\n          <label htmlFor=\"sell\">Sell</label>\r\n        </form>\r\n\r\n        <label>\r\n          <span>Amount ($):</span>\r\n          <input\r\n            type=\"number\"\r\n            required\r\n            onChange={(e) => setAmount(e.target.value)} \r\n            value={amount} \r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          <span>Date dd-mm-yyyy:</span>\r\n          <input\r\n            type=\"date\"\r\n            required\r\n            onChange={(e) => setData(e.target.value)} \r\n            value={data} \r\n          />\r\n        </label>\r\n\r\n        <button className=\"btn btn-success\">Add Transaction</button>\r\n      </form>\r\n    </>\r\n  )\r\n}","import { useFirestore } from '../../hooks/useFirestore'\r\nimport styles from './Home.module.css'\r\n\r\nexport default function TransactionList({ transactions }: any) {\r\n    const { deleteDocument } = useFirestore('transactions')\r\n\r\n  return (\r\n    <ul className={styles.transactions}>\r\n      {transactions.map((transaction: any) => (\r\n        <li key={transaction.id}>\r\n          <p className={styles.name}>{transaction.cryptocurrency}</p>\r\n          &nbsp;\r\n          <p className={styles.name}>{transaction.buysell}</p>\r\n          &nbsp;\r\n          <p className={styles.amount}>${transaction.amount}</p>\r\n          &nbsp;\r\n          <p className={styles.name}>{transaction.data}</p>\r\n          &nbsp;\r\n          <button onClick={() => deleteDocument(transaction.id)}>x</button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}","import styles from './Home.module.css'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { useCollection } from '../../hooks/useCollection'\r\n\r\n// components\r\nimport TransactionForm from './TransactionForm'\r\nimport TransactionList from './TransactionList'\r\n\r\nexport default function Home() {\r\n\r\n  const { user }: any = useAuthContext()\r\n  const { documents, error } = useCollection(\r\n    'transactions', [\"uid\", \"==\", user.uid], ['createdAt', 'desc']\r\n  )\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.content}><h2>Transaction List</h2>\r\n        {error && <p>{error}</p>}\r\n        {documents && <TransactionList transactions={documents} />}\r\n      </div>\r\n      <div className={styles.sidebar}>\r\n        <TransactionForm uid={user.uid} />\r\n      </div>\r\n    </div>\r\n  )}","import { useEffect, useState, useRef } from \"react\"\r\nimport { prjFirestore } from \"../firebase/configfirebase\"\r\n\r\nexport const useCollection = (collection: any, _query: any, _orderBy: any) => {\r\n    const [documents, setDocuments] = useState(null)\r\n    const [error, setError] = useState(null)\r\n    const query = useRef(_query).current\r\n    const orderBy = useRef(_orderBy).current\r\n\r\n    useEffect(() => {\r\n        let ref = prjFirestore.collection(collection).where(query[0], query[1], query[2]).orderBy(orderBy[0], orderBy[1])\r\n        //do a where to get the transaction list for a specific uid\r\n        //and an order\r\n\r\n        //if (orderBy) {\r\n         //   ref = ref.orderBy(orderBy[0], orderBy)\r\n         // }\r\n\r\n        const unsubscribe = ref.onSnapshot(snapshot => {\r\n        let results: { id: string }[] = []\r\n        snapshot.docs.forEach(doc => {\r\n            results.push({...doc.data(), id: doc.id})\r\n        });\r\n        \r\n        // update state\r\n        setDocuments(results)\r\n        setError(null)\r\n        }, error => {\r\n        console.log(error)\r\n        setError('Ai gresit ceva gogule...')\r\n        })\r\n\r\n        // unsubscribe on unmount\r\n        return () => unsubscribe()\r\n\r\n    }, [collection, query, orderBy])\r\n\r\n    return { documents, error }\r\n}","import React, { useState } from 'react'\r\nimport styles from './Login.module.css'\r\nimport { useLogin } from '../../hooks/useLogin'\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const {login, error, isPending } = useLogin() \r\n  \r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault()\r\n    login(email, password)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\r\n      <h2>Login</h2>\r\n      <label>\r\n        <span>Email:</span>\r\n        <input \r\n          type=\"email\" \r\n          onChange={(e) => setEmail(e.target.value)} \r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>Password:</span>\r\n        <input \r\n          type=\"password\" \r\n          onChange={(e) => setPassword(e.target.value)} \r\n          value={password} \r\n        />\r\n      </label>\r\n      { !isPending && <button className=\"btn btn-secondary\">Login</button> }\r\n      { isPending && <button className=\"btn btn-warning\" disabled>Loading...</button> }\r\n      {error && <p>{error}</p>}\r\n    </form>\r\n  )\r\n}","import { useState, useEffect } from 'react'\r\nimport { prjAuth } from '../firebase/configfirebase' \r\nimport { useAuthContext } from './useAuthContext'\r\n\r\nexport const useLogin = () => {\r\n  const [isCancelled, setIsCancelled] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [isPending, setIsPending] = useState(false)\r\n  const { dispatch }: any = useAuthContext()\r\n\r\n  const login = async (email: any, password: any) => {\r\n    setError(null)\r\n    setIsPending(true)\r\n  \r\n    try {\r\n      // login\r\n      const res = await prjAuth.signInWithEmailAndPassword(email, password)\r\n\r\n      dispatch({ type: 'LOGIN', payload: res.user })\r\n\r\n      if (!isCancelled) {\r\n        setIsPending(false)\r\n        setError(null)\r\n      }\r\n    } \r\n    catch(err) {\r\n      if (!isCancelled) {\r\n        setError(err.message)\r\n        setIsPending(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => setIsCancelled(true)\r\n  }, [])\r\n\r\n  return { login, isPending, error }\r\n}","import { useState } from 'react'\r\nimport styles from './Signup.module.css'\r\nimport { useSignup } from '../../hooks/useSignup'\r\n\r\nexport default function Signup() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [displayName, setDisplayName] = useState('')\r\n  const { signup, isPending, error } = useSignup()\r\n\r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault()\r\n    signup(email, password, displayName)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\r\n      <h2>Sign up</h2>\r\n      <label>\r\n        <span>Email:</span>\r\n        <input \r\n          type=\"email\" \r\n          onChange={(e) => setEmail(e.target.value)} \r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>Password:</span>\r\n        <input \r\n          type=\"password\" \r\n          onChange={(e) => setPassword(e.target.value)} \r\n          value={password} \r\n        />\r\n      </label>\r\n      <label>\r\n        <span>Your Name:</span>\r\n        <input \r\n          type=\"text\" \r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n          value={displayName}\r\n        />\r\n      </label>\r\n      { !isPending && <button className=\"btn btn-secondary\">Sign up</button> }\r\n      { isPending && <button className=\"btn btn-warning\" disabled>Loading</button> }\r\n      { error && <p>{error}</p> }\r\n    </form>\r\n  )\r\n}","//import { isPending } from \"@reduxjs/toolkit\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { prjAuth } from \"../firebase/configfirebase\"\r\nimport { useAuthContext } from \"./useAuthContext\"\r\n\r\nexport const useSignup = () => {\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const { dispatch } :any = useAuthContext()\r\n    const [isCancelled, setIsCancelled] = useState(false)\r\n\r\n    const signup = async (email: any, password: any, displayName: any) => {\r\n        setError(null)\r\n        setIsPending(true)\r\n\r\n        try{\r\n            //signup\r\n            const res = await prjAuth.createUserWithEmailAndPassword(email, password)\r\n\r\n            if(!res){\r\n                throw new Error('Signup Failed')\r\n            }\r\n\r\n            //adaug numele la user\r\n            await res.user.updateProfile({displayName})\r\n\r\n            dispatch({ type: 'LOGIN', payload: res.user})\r\n\r\n            if (!isCancelled){\r\n            setIsPending(false)\r\n            setError(null)\r\n            }\r\n        }\r\n        catch(err){\r\n            if (!isCancelled){\r\n                console.log(err.message)\r\n                setError(err.message)\r\n                setIsPending(false)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => setIsCancelled(true)\r\n      }, [])\r\n\r\n    return { error, isPending, signup}\r\n}","import { useState, useEffect } from 'react'\r\nimport { useAuthContext } from './useAuthContext'\r\nimport { prjAuth } from '../firebase/configfirebase'\r\n\r\nexport const useLogout = () => {\r\n  const [error, setError] = useState(null)\r\n  const [isPending, setIsPending] = useState(false)\r\n  const { dispatch }: any = useAuthContext()\r\n  const [isCancelled, setIsCancelled] = useState(false)\r\n  \r\n  const logout = async () => {\r\n    setError(null)\r\n    setIsPending(true)\r\n\r\n    try {\r\n      // delogare user\r\n      await prjAuth.signOut()\r\n      \r\n      dispatch({ type: 'LOGOUT' })\r\n\r\n      //update\r\n      if (!isCancelled){\r\n      setIsPending(false)\r\n      setError(null)\r\n      }\r\n    } \r\n    catch(err) {\r\n        if (!isCancelled){\r\n            console.log(err.message)\r\n            setError(err.message)\r\n            setIsPending(false)\r\n        }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => setIsCancelled(true)\r\n  }, [])\r\n\r\n  return { logout, error, isPending }\r\n}","import { Link } from \"react-router-dom\"\r\nimport { useLogout } from \"../hooks/useLogout\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport styles from './Navbar.module.css'\r\nimport { useAuthContext } from \"../hooks/useAuthContext\"\r\n\r\nexport default function Navbar() {\r\n  const {logout} = useLogout()\r\n  const { user }: any = useAuthContext()\r\n\r\n  return (\r\n    <nav className={styles.navbar}>\r\n      <ul className={styles.list}>\r\n        <li className={styles.title}>Crypto Transaction Tracker</li>\r\n\r\n        {!user && (\r\n        <>\r\n        <li className=\"btn btn-success\"><Link to=\"/login\">Login</Link></li>\r\n        &nbsp;\r\n        <li className=\"btn btn-success\"><Link to=\"/signup\">Signup</Link></li>\r\n        </>\r\n        )}\r\n\r\n        {user && (\r\n        <>\r\n          <li>Hello, {user.displayName}</li>\r\n            <li>\r\n            &nbsp;\r\n        <button className=\"btn btn-danger\" onClick={logout}>Logout</button>\r\n            </li>\r\n        </>\r\n        )}\r\n\r\n      </ul>\r\n    </nav>\r\n  )\r\n}","/*import {BrowserRouter, Route, Routes} from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\n\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Navbar from './components/Navbar'\n\nfunction App() {\n  const { alreadyLogged }: any = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {(alreadyLogged) && (\n      <BrowserRouter>\n      <Navbar />\n        <Routes>\n          <Route path =\"/\" element={<Home />} />\n          <Route path =\"/login\" element={<Login />} />\n          <Route path =\"/signup\" element={<Signup />} />\n        </Routes>\n      </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n*/ \nimport {BrowserRouter, Route, Routes, Navigate} from 'react-router-dom'\nimport { useAuthContext } from './hooks/useAuthContext'\n\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Navbar from './components/Navbar'\n\nfunction App() {\n  const { alreadyLogged, user }: any = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {(alreadyLogged) && (\n      <BrowserRouter>\n      <Navbar />\n        <Routes>\n          {(user) && (\n            <>\n          <Route path=\"/\" element={<Home/>}/>\n          <Route path=\"/login\" element ={<Navigate to=\"/\"/>}/>\n          <Route path=\"/signup\" element={user.displayName && <Navigate to=\"/\" />}/>\n          </>\n          )}\n          \n          {(!user) && (\n            <>\n            <Route path=\"/\" element={<Navigate to=\"/login\" />}/>\n            <Route path=\"/login\" element ={<Login />}/>\n            <Route path=\"/signup\" element={<Signup />}/>\n            </>\n          )}\n        </Routes>\n      </BrowserRouter>\n      )}\n    </div>\n  );\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}